# Django Tree Menu

Реализация древовидного меню для Django с соблюдением условия **1 запрос к БД** на отрисовку.

## Функционал

*   **Древовидная структура:** Вложенность меню неограничена.
*   **Оптимизация:** Все меню отрисовывается за ровно 1 SQL-запрос (предотвращение N+1 проблемы).
*   **Автоматическое определение активного пункта:** Подсветка пункта на основе текущего URL.
*   **Логика раскрытия:** Развернуты все пункты над активным, а также первый уровень вложенности под активным пунктом.
*   **Админка:** Управление меню через стандартный интерфейс Django.
*   **Гибкость:** Поддержка как явных URL (`/about/`), так и Named URL (`home`).

## Установка и запуск

1.  **Клонируйте репозиторий:**
    ```bash
    git clone 
    cd django_menu_project
    ```

2.  **Создайте и активируйте виртуальное окружение:**
    ```bash
    python -m venv venv
    # Linux/macOS
    source venv/bin/activate
    # Windows
    venv\Scripts\activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install django
    ```

4.  **Примените миграции и создайте суперпользователя:**
    ```bash
    python manage.py migrate
    python manage.py createsuperuser
    ```

5.  **Запустите сервер:**
    ```bash
    python manage.py runserver
    ```

## Использование

### 1. Настройка в админке
Перейдите по адресу `http://127.0.0.1:8000/admin/`.
Создайте пункты меню. Поле **"Название меню"** (например, `main_menu`) используется для группировки пунктов в одно дерево.

### 2. Вывод в шаблоне
В любом шаблоне загрузите тег и вызовите его, передав название меню:

```html
{% load menu_tags %}

<!-- Отрисует меню с названием 'main_menu' -->
{% draw_menu 'main_menu' %}